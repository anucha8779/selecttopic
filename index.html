<!DOCTYPE HTML>
<html>
	<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<link rel="stylesheet" href="bootstrap.css" type="text/css">
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="bootstrap.min.js"></script>
	<link href="bootstrap.min.css" rel="stylesheet" media="screen">
	
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" charset="utf-8">
			
		// Call onDeviceReady when PhoneGap is loaded.
		//
		// At this point, the document has loaded but phonegap.js has not.
		// When PhoneGap is loaded and talking with the native device,
		// it will call the event `deviceready`.
		// 
		function onLoad() {
			console.log("I've been loaded");
			document.addEventListener("deviceready", onDeviceReady, false);
		}

		// PhoneGap is loaded and it is now safe to make calls PhoneGap methods
		//
		function onDeviceReady() {
			console.log("Device Ready");
		}
			
		/**
		 * Global Variables
		 */
		var cur = null;
			
		// Back key event handler
		//
		function onBackKey() {
			console.log("I've caught a back key");
				
			// We are going back to home so remove the event listener 
			// so the default back key behaviour will take over
			document.removeEventListener("backbutton", onBackKey, false);
				
		// Hide the current dive and show home
			document.getElementById(cur).style.display = 'none';
			document.getElementById('home').style.display = 'block';
		cur = 'home';
		}

		function goToDiv() {
			// We are moving to a new div so over ride the back button 
		// so when a users presses back it will show the home div
			document.addEventListener("backbutton", onBackKey, false);
		// Hide home and show the new div
			//document.getElementById('home').style.display = 'none';
			if(localStorage.getItem('today')){
					todo = JSON.parse(localStorage.getItem('today'));  //chang  string to objct 
					update_data();
					document.getElementById('ul').style.display = 'block';
				}
				
		//	document.getElementById(id).style.display = 'block';
			//cur = id;
		}
		/*function goTodiv2(){
			document.addEventListener("backbutton", onBackKey, false);
			//document.getElementById('list').style.display = 'none';
			alert();
		}*/
		function hiddendata(){
			document.addEventListener("backbutton", onBackKey, false);
			document.getElementById('ul').style.display = 'none';
		}
    </script>
	
	</head>
	<style type="text/css">
		.list {
			display: block;
			box-shadow: rgb(195, 195, 195) 0px 1px 2px 0px;
			padding: 30px;
			margin: 10px;
			width:255px;
			font-size:16px; 
		}
		.btnli
		{
			position: absolute;
			left:80%;
			margin-bottom:0px;
		}		
		
		body
		{
			width:100%px;
			height:320px;			
		}
		#add_btn
		{
			width:30px;
			height:30px;	
		}
		.slide-menu{
			width:350px;
			height:100%;
			background-color:white;
			top:0px;
			left:-350px;
			position:absolute;
			z-index:20;
		}
		.footer{
			height:40px;
			background-color:#0099FF;
		}
			#imgcenter{
			width:100%;
			}
			
			
			
	</style>
	<body>

		<div id='container' align="center">
			<div class="footer">
				<header align="left">
						<input type="button" id="slide-btn" class="btn " value="Show" onclick="goToDiv()">
				</header>
			</div>
			<div class="footer2">
			<H2>NOTE DO LIST</h2><hr>
			</div>
		
		
		
		<form class="form-horizontal">
			<h3> Work :</h3> <input type="text" id="value" size="30"/>  
			
			<input type="image"  id="add_btn" name="login" value="submit" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_vjh0-DzCC9nYYWSinloywpu9E6p-GdNmznSAKo7Ot0lqAy63"  alt="Save">

		</form>
			
		<center>
	
			<img id="imgcenter" src="http://media-cache-ec0.pinimg.com/736x/29/af/9c/29af9cdc2b8c1cb981b31fa68b0d0722.jpg">
		</center>	
		<div class="slide-menu">
		<div class="footer">
			<header align="right">
				<input type="button" id="slide-back" class="btn " value="back" >
			</header>
		</div>
			<ul id="ul" align="left">
			
			</ul>
		
		</div>
		
		<div class="row">
		</div>
		
		<script type="text/javascript">
			var todo = new Array();		
			var state=0;
			$(document).ready(function(){
				
				
				$("#value").keydown(function (e) {
					if(e.keyCode==13)
					{
						insert_data();
					}
					
				});
								
				$("#add_btn").click(function(){		
					insert_data();
				});
				

			});	
			    function insert_data(){
					var item = 
					{
						content : $("#value").val()
					};
					todo.push(item);
					localStorage.setItem('today',JSON.stringify(todo));  	
					//update_data();						
					$("#value").val("");
				}
				function update_data(){
					$("#ul").empty();				
					for(var i in todo)
					{
			$("#ul").prepend($("<li  class='list text-info'>").html(todo[i].content).append($("<input class='btn btn-small btn-danger btnli' type='submit' value='remove'>")
                                    .attr('key', i)
                                    .click(function() {      //****** removeItem()
									    todo.splice($(this).attr('key'),1);
										localStorage.setItem('today',JSON.stringify(todo));
										update_data();
										//console.log($(this).attr('key'));  // select button done on user click
                                    })
                            )
						); 
						//console.log(todo[i].content);
					}

				}
			
	
		</script>
		
		<script type="text/javascript" src="jquery-2.0.3.js"></script>
		<script type="text/javascript">
			var status = 1;
			$(document).ready(function(){
				$('#slide-btn').on('click',function(){
					//var left = parseInt($('.container').css('left'));
				
						$('.container').animate({left:350},500);
						$('.slide-menu').animate({left:0},500);
						status = 0;					
				}),
				$('#slide-back').on('click',function(){
						$('.container').animate({left:0},500);
						$('.slide-menu').animate({left:-350},500);
						status = 1;
					
				})
			});
		</script>
	</body>
</html>
